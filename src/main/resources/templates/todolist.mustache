<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Todo list</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<nav id="links">
    <a href="/todolist"
       hx-get="/todolist"
       hx-trigger="click"
       hx-target=".content"
       hx-swap="outerHTML"
       hx-push-url="true"
       hx-indicator="#indicator">ToDo List</a>

    <a href="/blocnote"
       hx-get="/blocnote"
       hx-trigger="click"
       hx-target=".content"
       hx-swap="outerHTML"
       hx-push-url="true"
       hx-indicator="#indicator">Bloc note</a>
</nav>

<section id="todolist" class="content">
    <h1>ToDo List <img src="images/spinner.gif" class="htmx-indicator" id="indicator"></h1>

    <form>
        <input type="text" name="text" placeholder="To do ...">
        <button type="submit"
                hx-post="/todolist/todo"
                hx-trigger="click"
                hx-target="#todos"
                hx-swap="beforeend">
            Ajouter
        </button>
    </form>

    <section id="todos" hx-trigger="every 2s" hx-get="/todolist-polling">
        {{#todos}}
            <div class="todo todo-{{id}}">
                <span class="text">{{text}}</span>
                <span class="delete-icon"
                      hx-delete="/todolist/todo/{{id}}"
                      hx-trigger="click"
                      hx-target=".todo-{{id}}"
                      hx-swap="outerHTML"
                      hx-confirm="√ätes-vous s√ªr de vouloir supprimer le Todo ?">üóëÔ∏è</span>
            </div>
        {{/todos}}
    </section>

</section>

<script src="/js/htmx.min.js"></script>
</body>
</html>